<div class="col-lg-12 col-md-12 mb-4">
  <div class="card">

    <div class="card-body">
      <h5 class="card-title">Rene's Awesome Lead Summary </h5>
      <div class="col-md-2">
      <div><input  class="btn btn-primary" type="submit" value="Add Lead"  (click)="openBasicModal(addLeadModal)">
     <input  class="btn btn-danger" type="submit" value="Delete Selected"  (click)="openBasicModal(basicModal)"> There are {{count}} to delete </div>
      </div>



      <table  class="table table-striped table-bordered table-hover">

        <thead>
<!--        <tr>-->
<!--          <th><button class="button warning">Add Lead</button></th>-->
<!--          <th></th>-->
<!--          <th></th>-->
<!--          <th></th>-->
<!--          <th></th>-->
<!--          <th></th>-->
<!--        </tr>-->
        <tr>
          <th scope="col"></th>
          <th scope="col">ID#</th>
          <th scope="col">First</th>
          <th scope="col">Last</th>
          <th scope="col">Email</th>
          <th scope="col">phoneNumber</th>
          <th scope="col">Lead Source</th>
          <th scope="col">Message</th>
          <th scope="col">Created Date</th>
          <th scope="col">Updated Date</th>

        </tr>
        </thead>
<!--        minus-square  user-minus-->
        <tbody>
        <ng-container  *ngFor="let lead of leads ;index as i">
        <tr *ngIf="lead.isClient != true" >

          <td ><input type="checkbox" id="{{lead.id}}" name="{{lead.id}}" (click)="leadsToBeDeleted($event , this.i);">          </td>

          <td>{{lead.id }}</td>
          <td>
            <a routerLink="/leads/lead" (click)="leadDataTransfer(lead)">{{lead.fname || "NA"}}
            </a></td>
          <td>
            <a routerLink="/leads/lead" (click)="leadDataTransfer(lead)">{{lead.lname || "NA"}}
            </a></td>
          <td >
            <a routerLink="/leads/lead" (click)="leadDataTransfer(lead)"> {{lead.email || "NA"}}
            </a></td>
          <td>
            {{lead.phoneNumber || "NA" }}
          </td>

          <td>
            {{lead.leadSource || "NA"}}
          </td>
          <td>
            {{lead.message || "NA"}}
          </td>
          <td>
            {{lead.createdDate || "NA"}}
          </td>
          <td>
            {{lead.updatedDate || "NA"}}
         </td>

        </tr>
        </ng-container>
        </tbody>

      </table>
    </div>
  </div>
</div>

<ng-template #basicModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="DeleteLeadModalLabel">Deleting The following Leads</h5>
    <button type="button" class="btn-close" (click)="modal.close('by: close icon')" aria-label="Close"></button>
  </div>
  <div class="modal-body">
    <p>Leads</p>
    <table  class="table table-striped table-bordered table-hover">
      <tbody>
      <th>Id</th>
      <th>Name</th>
      <th>Email</th>
      <tr  *ngFor="let display of leadsToDisplay " >
        <td >{{ display?.id || "NA" }}</td>

        <td>{{ display?.fname || "NA" }} {{ display?.lname || "NA" }}</td>

        <td>{{ display?.email|| "NA"  }}</td>

      </tr>
      </tbody>
    </table>

  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close('by: close button') ;displayLeadToBeDeletedInModal() ">Reset Selected Leads</button>
    <button type="button" class="btn btn-danger" (click)="modal.close('by: save button'); displayLeadToBeDeletedInModal(); removeLeads()">Confirm Lead Deletion</button>
  </div>
</ng-template>

<ng-template #addLeadModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="AddLeadModalLabel">Deleting The following Leads</h5>
    <button type="button" class="btn-close" (click)="modal.close('by: close icon')" aria-label="Close"></button>
  </div>
  <div class="modal-body">
    <p>Leads</p>
    <div class="container">
      <form class="forms-sample" [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label for="fname" class="form-label">First Name</label>
          <input type="text" class="form-control" formControlName="fname" id="fname" autocomplete="off" placeholder="First Name">
        </div>
        <div class="mb-3">
          <label for="lname" class="form-label">Last Name</label>
          <input type="text" class="form-control" formControlName="lname" id="lname" autocomplete="off" placeholder="Last Name">
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email address</label>
          <input type="email" class="form-control" formControlName="email" id="email" placeholder="Email">
        </div>
        <div class="mb-3">
          <label for="phoneNumber" class="form-label">Phone Number</label>
          <input type="text" class="form-control" formControlName="phoneNumber" id="phoneNumber" autocomplete="off" placeholder="Phone Number">
        </div>
        <div class="mb-3">
          <label for="leadSource" class="form-label">Lead Source</label>
          <input type="text" class="form-control" formControlName="leadSource" id="leadSource" autocomplete="off" placeholder="Lead Source">
        </div>
        <div class="form-check mb-3">

        </div>
        <button type="submit" class="btn btn-primary me-2" (click)="modal.close('by: close icon'); ">Submit</button>

      </form>

    </div>


  </div>
  <div class="modal-footer">
    </div>
</ng-template>


<ng-template #makeClient let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="makeClient">Deleting The following Leads</h5>
    <button type="button" class="btn-close" (click)="modal.close('by: close icon')" aria-label="Close"></button>
  </div>
  <div class="modal-body">
   <app-lead ></app-lead>
    </div>



  <div class="modal-footer">
  </div>
</ng-template>












